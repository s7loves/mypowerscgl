<?xml version="1.0" encoding="utf-8" ?>
<sqlMap namespace="PS_WorkflowAbnormal" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <alias>
  <typeAlias alias="PS_WorkflowAbnormal"  type="Ebada.Scgl.Model.PS_WorkflowAbnormal,Ebada.Scgl.Model" />
  </alias>
  <resultMaps>
      <resultMap id="PS_WorkflowAbnormal_AllColumns" class="PS_WorkflowAbnormal">
        <result property="AbnormalId" column="AbnormalId" />
        <result property="WorkflowInsId" column="WorkflowInsId" />
        <result property="UserId" column="UserId" />
        <result property="AbnormalMsg" column="AbnormalMsg" />
        <result property="AbnormalTime" column="AbnormalTime" />
      </resultMap>
  </resultMaps>

  <statements>
   <select id="SelectPS_WorkflowAbnormalList" resultMap="PS_WorkflowAbnormal_AllColumns" parameterClass="string">
        SELECT 
         [AbnormalId],
         [WorkflowInsId],
         [UserId],
         [AbnormalMsg],
         [AbnormalTime]
          FROM PS_WorkflowAbnormal
          $value$
   </select>
   
   <select id="SelectPS_WorkflowAbnormalByHash" parameterClass="Hashtable">
         SELECT 
         [AbnormalId],
         [WorkflowInsId],
         [UserId],
         [AbnormalMsg],
         [AbnormalTime]
          FROM PS_WorkflowAbnormal
     <dynamic prepend="WHERE">
       <isNotNull prepend="AND" property="AbnormalId">[AbnormalId]='$AbnormalId$'</isNotNull>
       <isNotNull prepend="AND" property="WorkflowInsId">[WorkflowInsId]='$WorkflowInsId$'</isNotNull>
       <isNotNull prepend="AND" property="UserId">[UserId]='$UserId$'</isNotNull>
       <isNotNull prepend="AND" property="AbnormalMsg">[AbnormalMsg]='$AbnormalMsg$'</isNotNull>
       <isNotNull prepend="AND" property="AbnormalTime">[AbnormalTime]='$AbnormalTime$'</isNotNull>
     </dynamic>
   </select>
   <select id="SelectPS_WorkflowAbnormalByKey" resultMap="PS_WorkflowAbnormal_AllColumns" parameterClass="PS_WorkflowAbnormal">
         SELECT 
         [AbnormalId],
         [WorkflowInsId],
         [UserId],
         [AbnormalMsg],
         [AbnormalTime]
         FROM PS_WorkflowAbnormal
         WHERE 
           AbnormalId = #AbnormalId#

   </select>
 
   <delete id="DeletePS_WorkflowAbnormal" parameterClass="PS_WorkflowAbnormal">
        DELETE FROM 
         PS_WorkflowAbnormal
           WHERE
         AbnormalId = #AbnormalId#

   </delete>
   
   <delete id="DeletePS_WorkflowAbnormalByWhere" parameterClass="string">
     delete from PS_WorkflowAbnormal $value$
   </delete>
   
   <delete id="DeletePS_WorkflowAbnormalByKey" parameterClass="string">
        DELETE FROM 
         PS_WorkflowAbnormal
           WHERE
         AbnormalId = #AbnormalId#
    
   </delete>
   
   <update id="UpdatePS_WorkflowAbnormal" parameterClass="PS_WorkflowAbnormal" resultClass="int">
          UPDATE PS_WorkflowAbnormal
           SET
             [WorkflowInsId]=#WorkflowInsId#,
             [UserId]=#UserId#,
             [AbnormalMsg]=#AbnormalMsg#,
             [AbnormalTime]=#AbnormalTime#
            WHERE 
              AbnormalId = #AbnormalId#

   </update>
  
   <insert id="InsertPS_WorkflowAbnormal" parameterClass="PS_WorkflowAbnormal">
        INSERT INTO PS_WorkflowAbnormal
         (
         [AbnormalId],
         [WorkflowInsId],
         [UserId],
         [AbnormalMsg],
         [AbnormalTime]
         )
       VALUES
         (
         #AbnormalId#,
         #WorkflowInsId#,
         #UserId#,
         #AbnormalMsg#,
         #AbnormalTime#
         )

   </insert>
   
   <select id="GetPS_WorkflowAbnormalRowCountByHash" parameterClass="Hashtable">
         SELECT Count(*) 
          FROM PS_WorkflowAbnormal
     <dynamic prepend="WHERE">
       <isNotNull prepend="AND" property="AbnormalId">[AbnormalId]='$AbnormalId$'</isNotNull>
       <isNotNull prepend="AND" property="WorkflowInsId">[WorkflowInsId]='$WorkflowInsId$'</isNotNull>
       <isNotNull prepend="AND" property="UserId">[UserId]='$UserId$'</isNotNull>
       <isNotNull prepend="AND" property="AbnormalMsg">[AbnormalMsg]='$AbnormalMsg$'</isNotNull>
       <isNotNull prepend="AND" property="AbnormalTime">[AbnormalTime]='$AbnormalTime$'</isNotNull>
     </dynamic>

   </select>
   
   <select id="GetPS_WorkflowAbnormalRowCount" parameterClass="string">
    select count(*) from PS_WorkflowAbnormal $value$
   </select>
  </statements>
</sqlMap>
 